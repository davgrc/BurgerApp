<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Estadísticas - 3 Tesoros</title>

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/formularios.css">
    <link rel="stylesheet" href="css/estadisticas.css">

    <!-- NUEVO: estilos de filtros (reutiliza registros.css) -->
    <link rel="stylesheet" href="css/registros.css">
</head>

<body>

    <!-- HEADER -->
    <header class="header">
        <a href="dashboard.html" class="header-btn">←</a>
        <h1 class="header-title">Estadísticas</h1>
        <div class="header-btn"></div>
    </header>


    <!-- CONTENIDO -->
    <main class="formulario">

        <!-- ===================================================== -->
        <!-- FILTROS DE FECHA (NUEVO)                              -->
        <!-- ===================================================== -->
        <div class="filtros-fecha" style="margin-bottom:20px; margin-top:10px;">
            <button class="filtro-btn active" data-modo="hoy">Hoy</button>
            <button class="filtro-btn" data-modo="semana">Semana</button>
            <button class="filtro-btn" data-modo="mes">Mes</button>
            <button class="filtro-btn" data-modo="año">Año</button>

            <!-- Botón de rango personalizado -->
            <button class="filtro-btn" id="btnRangoPersonalizado" style="max-width:60px;">✏️</button>
        </div>


        <!-- ===================================================== -->
        <!-- 1. VENTAS (RESUMEN)                                   -->
        <!-- ===================================================== -->
        <section class="fold-card" onclick="toggleFold(this)">
            <div class="fold-header">
                <h2>Ventas</h2>
                <span class="fold-arrow">›</span>
            </div>
            <div class="fold-content" id="statsVentasResumen"></div>
        </section>


        <!-- ===================================================== -->
        <!-- 2. PRODUCTOS                                          -->
        <!-- ===================================================== -->
        <section class="fold-card" onclick="toggleFold(this)">
            <div class="fold-header">
                <h2>Productos</h2>
                <span class="fold-arrow">›</span>
            </div>
            <div class="fold-content" id="statsProductos"></div>
        </section>


        <!-- ===================================================== -->
        <!-- 3. EXTRAS                                             -->
        <!-- ===================================================== -->
        <section class="fold-card" onclick="toggleFold(this)">
            <div class="fold-header">
                <h2>Extras</h2>
                <span class="fold-arrow">›</span>
            </div>
            <div class="fold-content" id="statsExtras"></div>
        </section>


        <!-- ===================================================== -->
        <!-- 4. CLIENTES                                           -->
        <!-- ===================================================== -->
        <section class="fold-card" onclick="toggleFold(this)">
            <div class="fold-header">
                <h2>Clientes</h2>
                <span class="fold-arrow">›</span>
            </div>
            <div class="fold-content" id="statsClientes"></div>
        </section>


        <!-- ===================================================== -->
        <!-- 5. GASTOS (RESUMEN)                                   -->
        <!-- ===================================================== -->
        <section class="fold-card" onclick="toggleFold(this)">
            <div class="fold-header">
                <h2>Gastos</h2>
                <span class="fold-arrow">›</span>
            </div>
            <div class="fold-content" id="statsGastosResumen"></div>
        </section>


        <!-- ===================================================== -->
        <!-- 6. CATEGORÍAS DE GASTOS                               -->
        <!-- ===================================================== -->
        <section class="fold-card" onclick="toggleFold(this)">
            <div class="fold-header">
                <h2>Categorías de Gastos</h2>
                <span class="fold-arrow">›</span>
            </div>
            <div class="fold-content" id="statsCategoriasGasto"></div>
        </section>


        <!-- ===================================================== -->
        <!-- 7. SUBCATEGORÍAS DE GASTOS                            -->
        <!-- ===================================================== -->
        <section class="fold-card" onclick="toggleFold(this)">
            <div class="fold-header">
                <h2>Subcategorías de Gastos</h2>
                <span class="fold-arrow">›</span>
            </div>
            <div class="fold-content" id="statsSubcategoriasGasto"></div>
        </section>


        <!-- ===================================================== -->
        <!-- 8. RENTABILIDAD                                       -->
        <!-- ===================================================== -->
        <section class="fold-card" onclick="toggleFold(this)">
            <div class="fold-header">
                <h2>Rentabilidad</h2>
                <span class="fold-arrow">›</span>
            </div>
            <div class="fold-content" id="statsRentabilidad"></div>
        </section>

    </main>



    <!-- ===================================================== -->
    <!-- MODAL DE RANGO PERSONALIZADO (NUEVO)                  -->
    <!-- ===================================================== -->
    <div class="modal" id="modalRango">
        <div class="modal-content">

            <h2>Rango personalizado</h2>

            <label>Fecha inicio</label>
            <input type="date" id="fechaInicio">

            <label>Fecha fin</label>
            <input type="date" id="fechaFin">

            <button class="btn-guardar" id="btnAplicarRango">Aplicar</button>
            <button class="btn-cerrar" id="btnCerrarRango">Cancelar</button>

        </div>
    </div>



    <!-- Scripts -->
    <script src="js/global.js"></script>
    <script src="js/tasas.js"></script>
    <script src="js/estadisticas.js"></script>

</body>
</html>
